<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Benfei VCF â€” Upload Contacts</title>
Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
Â  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" />
Â  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css" /> 
Â  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
Â  <link rel="stylesheet" href="style.css" />
Â  <style>
Â  body {
Â  margin: 0;
Â  padding: 0;
Â  font-family: "Poppins", sans-serif;
Â  background: linear-gradient(135deg, #f3f5ff, #ffffff);
Â  color: #222;
}
/* transparent / frosted container â€” keeps text opaque while showing emoji behind */
.container {
Â  max-width: 500px;
Â  margin: 6% auto;
Â  /* semi-transparent white */
Â  background: rgba(255, 255, 255, 0.45);
Â  /* optional subtle frosted blur */
Â  -webkit-backdrop-filter: blur(5px);
Â  backdrop-filter: blur(8px);
Â  border-radius: 20px;
Â  padding: 2px 40px 40px 40px;
Â  text-align: center;
Â  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
Â  transition: 0.3s ease;
Â  position: relative; /* create stacking context so z-index works */
Â  z-index: 1; Â  Â  Â  Â  /* make sure it's above the emoji layer */
}

/* stronger contrast version (if text is hard to read) */
.container--strong {
Â  background: rgba(255,255,255,0.85);
}

/* if you want fully transparent background but keep content readable */
.container--transparent {
Â  background: transparent;
Â  box-shadow: none;
}


.container:hover {
Â  transform: translateY(-4px);
}

h1 {
Â  font-weight: 700;
Â  color: #1e60d6;
Â  margin-bottom: 2px;
}

h2 {
Â  color: #333;
Â  font-size: 1.1rem;
Â  font-weight: 500;
Â  margin-top: 5px;
}

p {
Â  font-size: 0.9rem;
Â  color: #555;
Â  line-height: 1.6;
}

.member-stats {
Â  text-align: center;
Â  font-family: 'Poppins', sans-serif;
Â  margin-bottom: 20px;
Â  color: #222;
}

.member-stats p {
Â  margin: 4px 0;
Â  font-size: 13px;
}

.member-stats i {
Â  color: #007bff;
Â  margin-right: 3px;
}

.member-stats strong {
Â  color: #111;
}

form {
Â  display: flex;
Â  flex-direction: column;
Â  gap: 18px;
}

form label {
Â  text-align: left;
Â  display: block;
Â  font-weight: 500;
Â  color: #333;
}

form label i {
Â  color: #1e60d6;
Â  margin-right: 6px;
}

input {
Â  width: 92%;
Â  padding: 13px 14px;
Â  border-radius: 12px;
Â  border: none;
Â  outline: none;
Â  font-size: 1rem;
Â  background: #fff;
Â  color: #222;

Â  /* inset effect */
Â  box-shadow:
Â  Â  inset 3px 3px 6px #c8c8cf,
Â  Â  inset -3px -3px 6px #ffffff;

Â  transition: all 0.25s ease;
}

#name {
Â  width: 100%;
}

input::placeholder {
Â  color: #888;
}

input:focus {
Â  box-shadow:
Â  Â  inset 1px 1px 2px #c8c8cf,
Â  Â  inset -1px -1px 2px #ffffff,
Â  Â  0 0 0 2px rgba(30, 96, 214, 0.15);
}

button {
Â  width: 100%;
Â  padding: 13px;
Â  border-radius: 14px;
Â  border: none;
Â  font-size: 1rem;
Â  font-weight: 600;
Â  cursor: pointer;
Â  margin-top: 10px;

Â  background: #1e60d6;
Â  color: #fff;

Â  /* BLUE inset */
Â  box-shadow:
Â  Â  inset 3px 3px 6px #164aa6,
Â  Â  inset -3px -3px 6px #2f7cff,
Â  Â  0 6px 12px rgba(30, 96, 214, 0.35);

Â  transition: all 0.25s ease;
}

button:hover {
Â  box-shadow:
Â  Â  inset 2px 2px 4px #164aa6,
Â  Â  inset -2px -2px 4px #2f7cff,
Â  Â  0 8px 16px rgba(30, 96, 214, 0.45);
}

button:active {
Â  box-shadow:
Â  Â  inset 4px 4px 8px #164aa6,
Â  Â  inset -4px -4px 8px #2f7cff;
Â  transform: scale(0.97);
}

.join-btn {
Â  display: inline-block;
Â  width: 92%;
Â  padding: 14px 20px;
Â  border-radius: 14px;
Â  text-decoration: none;
Â  font-weight: 600;
Â  color: #fff;
Â  background: #128c7e;

Â  /* GREEN inset */
Â  box-shadow:
Â  Â  inset 3px 3px 6px #0e6b60,
Â  Â  inset -3px -3px 6px #1bd4b5,
Â  Â  0 6px 12px rgba(18, 140, 126, 0.35);

Â  transition: all 0.25s ease;
Â  margin-top: 20px;
}

.join-btn:hover {
Â  box-shadow:
Â  Â  inset 2px 2px 4px #0e6b60,
Â  Â  inset -2px -2px 4px #1bd4b5,
Â  Â  0 8px 16px rgba(18, 140, 126, 0.45);
}

.join-btn:active {
Â  box-shadow:
Â  Â  inset 4px 4px 8px #0e6b60,
Â  Â  inset -4px -4px 8px #1bd4b5;
Â  transform: scale(0.97);
}

footer {
Â  text-align: center;
Â  margin-top: 40px;
Â  font-size: 0.85rem;
Â  color: #666;
}

footer i {
Â  color: #1e60d6;
Â  margin-right: 5px;
}

.iti__country-list {
Â  background: #fff !important;
Â  color: #333 !important;
Â  border-radius: 8px;
}
.iti {
Â  width: 100%;
}

/* Ensure the input inside the wrapper still obeys your styling */
.iti input {
Â  width: 100% !important;
}

/* Optional: Adjust vertical alignment if the flag looks off-center */
.iti__flag-container {
Â  padding: 2px;
}

.numb {
Â  color: #1e60d6;
Â  font-weight: bold;
}
.swal2-popup {
Â  padding: 1.5em 1em !important;
}
#particles-js {
Â  position: fixed;
Â  width: 100%;
Â  height: 100%;
Â  z-index: -1;
Â  top: 0;
Â  left: 0;
Â  background: transparent;
Â  pointer-events: none;
}

</head>
</style>
<body>
Â 

Â  <div class="container">
Â  Â  <h1>Benfei Xmas VCF</h1>
Â  Â  <p>
Â  Â  Â  Boost your WhatsApp views with <strong>Benfei Xmas VCF</strong>. Upload your name and WhatsApp number, then join our community.
Â  Â  </p>

Â  Â  <div class="member-stats">
Â  Â  Â  <p><i class="fa-solid fa-users"></i> Current Contacts: <span class="numb" id="memberCount"></span></p>
Â  Â  Â  <p><i class="fa-solid fa-bullseye"></i> Target Contacts: <span class="numb">800</span></p>
Â  Â  </div>

Â  Â  <form id="uploadForm">
Â  Â  Â  <div>
Â  Â  Â  Â  <label for="name"><i class="fa-solid fa-user"></i>Full Name</label>
Â  Â  Â  Â  <input type="text" id="name" placeholder="Enter your name..." required />
Â  Â  Â  </div>

Â  Â  Â  <div>
Â  Â  Â  Â  <label for="phone"><i class="fa-solid fa-phone"></i>Phone Number</label>
Â  Â  Â  Â  <input type="tel" id="phone" placeholder="WhatsApp number..." required />
Â  Â  Â  </div>

Â  Â  Â  <button type="submit"><i class="fa-solid fa-cloud-arrow-up"></i> Upload Contact</button>
Â  Â  </form>

Â  Â  <a href="https://whatsapp.com/channel/0029Vb6Q0np6LwHd6cRZKE2b" target="_blank" class="join-btn">
Â  Â  Â  <i class="fa-brands fa-whatsapp"></i> Follow Our Channel
Â  Â  </a>
Â  </div>

Â  <footer>
Â  Â  <p>Built and <i class="fa-solid fa-bolt"></i> Powered by <strong>Benfei Tech</strong></p>
Â  </footer>
Â  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
Â  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
Â  <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>

Â  <!-- AUDIO PLAYER (BOTTOM RIGHT) -->
<div id="audioPlayer">
Â  <audio id="bgMusic" autoplay loop>
Â  Â  <source src="xmassvcf.mp3" type="audio/mpeg">
Â  </audio>

Â  <button id="toggleAudio"><i class="fa-solid fa-pause"></i></button>
</div>

<style>
Â  #audioPlayer {
Â  Â  position: fixed;
Â  Â  bottom: 20px;
Â  Â  right: 20px;
Â  Â  z-index: 9999;
Â  }

Â #toggleAudio {
Â  width: 55px;
Â  height: 55px;
Â  border-radius: 50%;
Â  border: none;
Â  background: linear-gradient(135deg, #1e60d6, #6aa6ff);
Â  color: #fff;
Â  font-size: 20px;
Â  cursor: pointer;
Â  transition: transform 0.3s ease;

Â  /* animation disabled by default */
Â  animation: none;
}

/* animation ONLY when playing */
#toggleAudio.playing {
Â  animation: glowPulse 2.5s infinite ease-in-out;
}


Â  @keyframes glowPulse {
Â  Â  0% {
Â  Â  Â  box-shadow: 0 0 10px #ff00c8, 0 0 20px #ff00c8, 0 0 40px #ff00c8;
Â  Â  }
Â  Â  25% {
Â  Â  Â  box-shadow: 0 0 10px #00eaff, 0 0 20px #00eaff, 0 0 40px #00eaff;
Â  Â  }
Â  Â  50% {
Â  Â  Â  box-shadow: 0 0 10px #00ff6a, 0 0 20px #00ff6a, 0 0 40px #00ff6a;
Â  Â  }
Â  Â  75% {
Â  Â  Â  box-shadow: 0 0 10px #ffae00, 0 0 20px #ffae00, 0 0 40px #ffae00;
Â  Â  }
Â  Â  100% {
Â  Â  Â  box-shadow: 0 0 10px #ff00c8, 0 0 20px #ff00c8, 0 0 40px #ff00c8;
Â  Â  }
Â  }

Â  #toggleAudio:hover {
Â  Â  transform: scale(1.08);
Â  }
</style>
<script>
Â const music = document.getElementById("bgMusic");
const toggleBtn = document.getElementById("toggleAudio");

// Try autoplay (desktop)
music.play().catch(() => {});
music.addEventListener("play", () => {
Â  toggleBtn.classList.add("playing");
});

music.addEventListener("pause", () => {
Â  toggleBtn.classList.remove("playing");
});


// Fully mobile-safe unlock
const unlockAudio = () => {
Â  music.play().catch(() => {});
Â  window.removeEventListener("pointerdown", unlockAudio);
Â  window.removeEventListener("touchstart", unlockAudio);
Â  window.removeEventListener("click", unlockAudio);
};

// Catch EVERY possible mobile gesture
window.addEventListener("pointerdown", unlockAudio, { once: true });
window.addEventListener("touchstart", unlockAudio, { once: true });
window.addEventListener("click", unlockAudio, { once: true });

toggleBtn.addEventListener("click", () => {
Â  if (music.paused) {
Â  Â  music.play();
Â  Â  toggleBtn.innerHTML = `<i class="fa-solid fa-pause"></i>`;
Â  Â  toggleBtn.classList.add("playing"); // start animation
Â  } else {
Â  Â  music.pause();
Â  Â  toggleBtn.innerHTML = `<i class="fa-solid fa-play"></i>`;
Â  Â  toggleBtn.classList.remove("playing"); // stop animation
Â  }
});

</script>


<!-- EMOJI BACKGROUND (replace particles.js block with this) -->
<style>
Â  /* container sits behind everything */
Â  .emoji-bg {
Â  Â  position: fixed;
Â  Â  inset: 0;
Â  Â  z-index: -1;
Â  Â  pointer-events: none;
Â  Â  overflow: hidden;
Â  }

Â  /* each emoji wrapper controls vertical fall */
Â  .emoji {
Â  Â  position: absolute;
Â  Â  top: -10vh; /* start slightly above viewport */
Â  Â  will-change: transform, opacity;
Â  Â  display: block;
Â  Â  animation-name: fall;
Â  Â  animation-timing-function: linear;
Â  Â  animation-iteration-count: infinite;
Â  }

Â  /* inner span handles horizontal sway (so transforms don't conflict) */
Â  .emoji .i {
Â  Â  display: inline-block;
Â  Â  animation-name: sway;
Â  Â  animation-timing-function: ease-in-out;
Â  Â  animation-iteration-count: infinite;
Â  Â  will-change: transform;
Â  Â  transform-origin: center;
Â  }

Â  @keyframes fall {
Â  Â  0% Â  { transform: translateY(-12vh); opacity: 0; }
Â  Â  5% Â  { opacity: 1; }
Â  Â  100% { transform: translateY(110vh); opacity: 1; }
Â  }

Â  @keyframes sway {
Â  Â  0% Â  { transform: translateX(calc(-1 * var(--sway))); }
Â  Â  50% Â { transform: translateX(calc(var(--sway))); }
Â  Â  100% { transform: translateX(calc(-1 * var(--sway))); }
Â  }

Â  /* optional: slightly blur and lower contrast so emojis don't steal focus */
Â  .emoji .i { filter: drop-shadow(0 2px 2px rgba(0,0,0,0.08)); }
</style>

<div class="emoji-bg" id="emojiBg" aria-hidden="true"></div>

<script>
Â  (function createEmojiBackground() {
Â  Â  const container = document.getElementById('emojiBg');

Â  Â  // Customize these:
Â  Â  const EMOJIS = ["ğŸ„","âœ¨","ğŸ","â„ï¸","ğŸ’š","ğŸ…","ğŸŒŸ"];
Â  Â  const COUNT = 50; // number of emojis

Â  Â  for (let i = 0; i < COUNT; i++) {
Â  Â  Â  const wrap = document.createElement('span');
Â  Â  Â  wrap.className = 'emoji';

Â  Â  Â  // random horizontal position
Â  Â  Â  wrap.style.left = Math.random() * 100 + '%';

Â  Â  Â  // random fall duration between 8s and 18s
Â  Â  Â  const fallDuration = 8 + Math.random() * 10;
Â  Â  Â  wrap.style.animationDuration = fallDuration + 's';

Â  Â  Â  // negative delay so they appear scattered immediately
Â  Â  Â  wrap.style.animationDelay = -(Math.random() * fallDuration) + 's';

Â  Â  Â  // random opacity variation
Â  Â  Â  wrap.style.opacity = 0.8 - Math.random() * 0.45;

Â  Â  Â  // inner element for horizontal sway
Â  Â  Â  const inner = document.createElement('span');
Â  Â  Â  inner.className = 'i';
Â  Â  Â  inner.textContent = EMOJIS[Math.floor(Math.random() * EMOJIS.length)];

Â  Â  Â  // random font size
Â  Â  Â  const size = 14 + Math.floor(Math.random() * 36); // 14px to 50px
Â  Â  Â  inner.style.fontSize = size + 'px';

Â  Â  Â  // sway amplitude (px) and sway duration
Â  Â  Â  const sway = 8 + Math.floor(Math.random() * 36); // 8px..44px
Â  Â  Â  inner.style.setProperty('--sway', sway + 'px');
Â  Â  Â  inner.style.animationDuration = (2 + Math.random() * 4).toFixed(2) + 's';
Â  Â  Â  // slightly offset sway so each emoji moves differently
Â  Â  Â  inner.style.animationDelay = -(Math.random() * 4) + 's';
Â  Â  Â  inner.style.opacity = 0.95;

Â  Â  Â  wrap.appendChild(inner);
Â  Â  Â  container.appendChild(wrap);
Â  Â  }

Â  Â  // Optional: regenerate on resize for better distribution
Â  Â  window.addEventListener('resize', () => {
Â  Â  Â  // do nothing heavy â€” you could re-create items here if you like
Â  Â  }, { passive: true });
Â  })();
</script>
<script>// Initialize phone input
const phoneInput = document.querySelector("#phone");

const iti = window.intlTelInput(phoneInput, {
Â  initialCountry: "auto",
Â  separateDialCode: true,
Â  preferredCountries: ["ng", "us", "gb"],
Â  showSearchBox: true,
Â  geoIpLookup: (callback) => {
Â  Â  fetch("https://ipapi.co/json/")
Â  Â  Â  .then((res) => res.json())
Â  Â  Â  .then((data) => callback(data.country_code ? data.country_code.toLowerCase() : "ng"))
Â  Â  Â  .catch(() => callback("ng"));
Â  },
Â  utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",
});

// Function for Robotic Voice
function playRoboticVoice(text) {
Â  const msg = new SpeechSynthesisUtterance(text);
Â  const voices = window.speechSynthesis.getVoices();
Â  
Â  // To make it sound "robotic", we lower the pitch and slow the rate
Â  msg.pitch = 0.5; // Lower pitch = more robotic
Â  msg.rate = 0.9; Â // Slightly slower
Â  msg.volume = 1;

Â  window.speechSynthesis.speak(msg);
}

// Fetch and update live member count
async function updateMemberCount() {
Â  try {
Â  Â  const res = await fetch("/api/count");
Â  Â  const data = await res.json();
Â  Â  document.getElementById("memberCount").textContent = data.count || 0;
Â  } catch (err) {
Â  Â  document.getElementById("memberCount").textContent = "N/A";
Â  Â  console.error("Error fetching counter:", err);
Â  }
}

updateMemberCount();
setInterval(updateMemberCount, 1000);

// Handle form submission
document.getElementById("uploadForm").addEventListener("submit", async (e) => {
Â  e.preventDefault();

Â  const name = "ğŸ¥­ " + document.getElementById("name").value.trim() + " ğŸŒ½";
Â  if (!name) return toastr.warning("Please enter your name.");

Â  const countryData = iti.getSelectedCountryData();
Â  const countryName = countryData?.name || "your country";

Â  if (!iti.isValidNumber()) {
Â  Â  toastr.error(`Invalid phone number from ${countryName}`);
Â  Â  return;
Â  }

Â  const fullNumber = iti.getNumber();

Â  try {
Â  Â  const response = await fetch("/api/upload", {
Â  Â  Â  method: "POST",
Â  Â  Â  headers: { "Content-Type": "application/json" },
Â  Â  Â  body: JSON.stringify({ name, phone: fullNumber }),
Â  Â  });

Â  Â  const result = await response.json();

Â  Â  if (result.exists) {
Â  Â  Â  toastr.warning("This number already exists in our database!");
Â  Â  } else if (result.success) {
Â  Â  Â  
Â  Â  Â  // 1. Trigger Confetti
Â  Â  Â  confetti({
Â  Â  Â  Â  particleCount: 150,
Â  Â  Â  Â  spread: 70,
Â  Â  Â  Â  origin: { y: 0.6 },
Â  Â  Â  Â  colors: ['#1e60d6', '#ffffff', '#ff0000'] // Custom Xmas/Brand colors
Â  Â  Â  });

Â  Â  Â  // 2. Play Robotic Voice
Â  Â  Â  playRoboticVoice("Contact uploaded successfully, join the channel now");

Â  Â  Â  // 3. Show Success Message
Â  Â  Â  toastr.success("Contact uploaded successfully!");

Â  Â  Â  document.getElementById("uploadForm").reset();
Â  Â  Â  iti.setNumber(""); 

Â  Â  Â  Swal.fire({
Â  Â  Â  Â  icon: "success",
Â  Â  Â  Â  title: "Contact Uploaded!",
Â  Â  Â  Â  html: `
Â  Â  Â  Â  Â  <p><b>Name: ${name}</b><br><b>Phone Number:</b> <b>${fullNumber}</b></p><br>
Â  Â  Â  Â  Â  <p>Redirecting to group...</p>
Â  Â  Â  Â  `,
Â  Â  Â  Â  timer: 3000, // Give them time to hear the voice
Â  Â  Â  Â  timerProgressBar: true
Â  Â  Â  });

Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  window.location.href = 'https://chat.whatsapp.com/HYzBR40DCDE8X1GYvlOM88?mode=wwt';
Â  Â  Â  }, 3500); 

Â  Â  Â  updateMemberCount();
Â  Â  } else {
Â  Â  Â  toastr.error("Something went wrong. Please try again.");
Â  Â  }
Â  } catch (err) {
Â  Â  console.error(err);
Â  Â  toastr.error("Network error. Please check your connection.");
Â  }
});</script>

</body>
</html>
